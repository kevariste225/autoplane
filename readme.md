<div>
  <p class="c4 c19">
    <span class="c27">Last updated: 13/05/2012<br />Fixed lots of spelling and reference errors</span>
  </p>
</div>

<p class="c5 title">
  <a name="h.q4vi9e3nix0y"></a><span>Fully Autonomous Plane</span>
</p>

<p class="c5 subtitle">
  <a name="h.h14959aow71j"></a><span>The thinking man's plane!</span>
</p>

<p class="c4">
  <span>By </span><span>HappyPaul55</span><sup><a href="#cmnt1" name="cmnt_ref1">[a]</a></sup>
</p>

<h1 class="c5">
  <a name="h.x8y65o117efn"></a><span>Contents</span>
</h1>

<p class="c16 c5">
  <span class="c0"><a class="c7" href="#h.x8y65o117efn">Contents</a></span>
</p>

<p class="c16 c5">
  <span class="c0"><a class="c7" href="#h.vph7732ilxkv">Introduction</a></span>
</p>

<p class="c16 c5">
  <span class="c0"><a class="c7" href="#h.552fkml9thrp">Goals</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.3z8rcpgze86o">Goal 1 - Learning to Fly</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.fj3blyic39db">Buy a plane</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.d0ujw77m4x73">Take some lessons</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.8u2mjy1durn4">Return notes and knowledge</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.lprmq6m5h2fk">Goal 2 - Installing Hardware</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.got9acqo5rva">Buy required items</a></span>
</p>

<p class="c5 c26">
  <span class="c0"><a class="c7" href="#h.q1bruwdzuxdj">RPI</a></span>
</p>

<p class="c26 c5">
  <span class="c0"><a class="c7" href="#h.1t42xgcp7md7">Gyroscope sensor</a></span>
</p>

<p class="c26 c5">
  <span class="c0"><a class="c7" href="#h.qj6vyhwjur9c">GPS Module</a></span>
</p>

<p class="c26 c5">
  <span class="c0"><a class="c7" href="#h.3fg3rnkpfdsz">Camera</a></span>
</p>

<p class="c26 c5">
  <span class="c0"><a class="c7" href="#h.tbt3jngt2rw8">Proximity sensor</a></span>
</p>

<p class="c26 c5">
  <span class="c0"><a class="c7" href="#h.avwn0tugx5kh">P2P Wireless</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.9gmpii330wq6">Trim excess wires and remove unwanted weight</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.9zg4ji13cijl">Add the devices to the plane</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.ozbrm79f9e4b">Get each sensor into our program we can read and control</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.j4f8ttchgn">Write the information to file</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.l1lbslsvuqz0">Check the information for bugs</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.en8v2hb01i6y">Goal 3 - Processing Data</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.f95ythckimfa">Gyroscope</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.ejdy36994bns">GPS Module</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.4mjncf41rjs8">Proximity sensor</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.mkijwzvxcqr3">Camera</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.d71qowqvz1wp">P2P</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.7a2izo8cv9pd">RPI</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.5hodcr5awir0">Goal 4 - The First Flight</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.20ahgfikkvgc">Take off</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.wz8btecybjfj">Take over</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.pmoyawyjdlyx">Flight</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.6yj7q5wf9faz">Landing</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.2sm5szap9g0g">Landed</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.ap6l95rhr3m1">Finish</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.addcxgxaa0n9">Goal 5 - The Second Flight</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.1corvlq3jur8">Teaching to take off</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.3enpivqmi537">Teaching to land</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.73zaawwf4op1">Teaching to turn</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.ud23qq5nn1ex">Goal 6 - Tweaking/Improving</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.ajk26bb56jgj">Goal 7 - Downgrading/Improving</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.cqows8ncbvgh">Goal 8 - The End</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.3l9rikx4zsmj">Goal 9 - Going one step further</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.kqnwz7mkofdz">Using the RPI</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.9hddl74aw0yr">Without the RPI</a></span>
</p>

<p class="c16 c5">
  <span class="c0"><a class="c7" href="#h.am66h2pyitus">Technical Jargon</a></span>
</p>

<p class="c16 c5">
  <span class="c0"><a class="c7" href="#h.kp8aspxn5rmf">Files & Programs</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.3d8hvu2z4u3h">Locations</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.82te431r9qi2">File-types</a></span>
</p>

<p class="c5 c13">
  <span class="c0"><a class="c7" href="#h.cn3gxztf58k7">.CAP</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.ryaktse2e6ph">.KML</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.pdzooepluzm6">.LOG</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.37f61o9l5e2">Programs</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.9wscb19evvop">autoplane-ailerons</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.kuxuxgh3oxn2">autoplane-buggeroff</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.gogvaph7lc8b">autoplane-camera</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.hfyzpcbu1yu8">autoplane-errors</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.hww816kgt1">autoplane-gps</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.901ljn3c4091">autoplane-gyroscope</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.wh2u5m255l5f">autoplane-manager</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.8ol6809yjr6e">autoplane-proximity</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.hh3o6hwou8z8">autoplane-tracking</a></span>
</p>

<p class="c16 c5">
  <span class="c0"><a class="c7" href="#h.2mqw8yqjgj6t">Constants</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.z9j9p5ulh572">MinSpeed</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.czhixwoj3lus">MaxSpeed</a></span>
</p>

<p class="c5 c9">
  <span class="c0"><a class="c7" href="#h.s7vcgdd9dtxi">MaxRotation</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.id73g9obzvxu">NormalRotationIncrement</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.4cpmbj73l3g">MaxRotationIncrement</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.9jh7huntsbo">MaxFlightTime</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.okd948qrojqv">CommandTimeout</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.b2kqoii1er4j">Creator</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.bhva8icz2hub">Version</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.tpw8cx6l5vun">ChecksumSalt</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.48k2ax2e98vo">ProxPollRate</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.821l8er2ip52">GryoPollRate</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.j5thxqsb9rlb">GPSPollRate</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.15arfskxznch">LandingDistance</a></span>
</p>

<p class="c16 c5">
  <span class="c0"><a class="c7" href="#h.5wuqg4n9mbsj">Error Management</a></span>
</p>

<p class="c16 c5">
  <span class="c0"><a class="c7" href="#h.22muku6bk5e3">Parts</a></span>
</p>

<p class="c5 c16">
  <span class="c0"><a class="c7" href="#h.644tt0b7gn85">Credits</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.hcsli21pplel">HappyPaul55</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.rifis6c8xy7a">Raspberry Pi Foundation</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.n6xgadr3r190">Linorics</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.xa9hchx04rbm">st599</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.7ywbxrvqiiin">flipdewaf</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.z0ykjn5m4pmq">Fred Nightingale</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.rwxqfo5kguee">You?</a></span>
</p>

<p class="c16 c5">
  <span class="c0"><a class="c7" href="#h.ivvufjcxgv3a">Questions & Answers</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.gqv1f5gv0u7a">Why lots of programs?</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.hlgsafccuc2t">What happens if there was a full system crash?</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.7aevzhsmx2e8">It’s not legal!</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.p3a312dedsi7">Is it a Fly-over-wire (Fly-by-wire) based?</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.s6rzn0beh1l3">Is the Gyroscope capable of keeping the plane level?</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.xgjljrulea2r">Now it’s my turn, What programming language do you think would be best for this project and why?</a></span>
</p>

<p class="c16 c5">
  <span class="c0"><a class="c7" href="#h.yv3zg4940xov">Development & Programming</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.8udt3osvs8r1">Call for developers</a></span>
</p>

<p class="c9 c5">
  <span class="c0"><a class="c7" href="#h.mcksglptud23">Functions that need to be created</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.523ln1yokzj5">getSpeedFromPoints</a></span>
</p>

<p class="c13 c5">
  <span class="c0"><a class="c7" href="#h.lzhb8j315qp7">getBearingFromPoints</a></span>
</p>

<h1 class="c5">
  <a name="h.vph7732ilxkv"></a><span>Introduction</span>
</h1>

<p class="c5">
  <span>The aim is create a fully autonomous plane capable of flying from point to point including waypoints in between. The plane should be capable for flying for half an hour on its own power supply and house enough space to hold additional modules which are unrelated to the flight of the plane.</span>
</p>

<h1 class="c5">
  <a name="h.552fkml9thrp"></a><span>Goals</span>
</h1>

<p class="c5">
  <span>The build should be goal driven and be built in sections with tests along the way.</span>
</p>

<h2 class="c5">
  <a name="h.3z8rcpgze86o"></a><span>Goal 1 - Learning to Fly</span>
</h2>

<p class="c5">
  <span>The first goal is to learn how to fly a plane. This will give us the knowledge and steps required to fly a plane. We should be able to take off, turn and land the plane without any accidents.</span>
</p>

<ol class="c14" start="1">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.fj3blyic39db"></a><span>Buy a plane</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>First we need to buy a plane. The plane should be electric, lightweight and house enough room inside for our hardware and additional modules.</span>
  </li>
</ol>

<ol class="c14" start="2">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.d0ujw77m4x73"></a><span>Take some lessons</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>We then need to learn how to fly a plane so that we can correctly teach the computer to safely control the vehicle.</span>
  </li>
</ol>

<ol class="c14" start="3">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.8u2mjy1durn4"></a><span>Return notes and knowledge</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>We should return notes on how to fly the plane in normal conditions and </span><span>windy conditions</span><sup><a href="#cmnt2" name="cmnt_ref2">[b]</a></sup><span>. If possible knowledge on the plane reacts when wet we would be desirable</span>
  </li>
</ol>

<h2 class="c5">
  <a name="h.lprmq6m5h2fk"></a><span>Goal 2 - Installing Hardware</span>
</h2>

<p class="c5">
  <span>The second goal is to install all the required hardware and get the raw data to the RPI in a format our program can understand.</span>
</p>

<ol class="c14" start="1">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.got9acqo5rva"></a><span>Buy required items</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <h4>
      <a name="h.q1bruwdzuxdj"></a><span>RPI</span>
    </h4>
  </li>
</ol>

<ol class="c21" start="1">
  <li class="c5 c15 c18">
    <span>Model B</span>
  </li>
</ol>

<ol class="c14" start="1">
  <li class="c23 c5 c15">
    <span>For testing and debugging</span>
  </li>
</ol>

<ol class="c21" start="2">
  <li class="c5 c15 c18">
    <span>Model A</span>
  </li>
</ol>

<ol class="c14" start="1">
  <li class="c23 c5 c15">
    <span>After completion, uses less power, longer flights</span>
  </li>
</ol>

<ol class="c21" start="3">
  <li class="c5 c15 c18">
    <span>SD Card</span>
  </li>
</ol>

<ol class="c14" start="1">
  <li class="c5 c15 c23">
    <span>8GB, 16GB or 32GB so we can log everything to file</span>
  </li>
</ol>

<ol class="c11" start="2">
  <li class="c1">
    <h4>
      <a name="h.1t42xgcp7md7"></a><span>Gyroscope sensor</span>
    </h4>
  </li>
</ol>

<ol class="c21" start="4">
  <li class="c5 c15 c18">
    <span>To keep plane level</span>
  </li>
  <li class="c5 c15 c18">
    <span>Controlled in flight corning and rolling</span>
  </li>
  <li class="c5 c15 c18">
    <span>Speed</span>
  </li>
</ol>

<ol class="c11" start="3">
  <li class="c1">
    <h4>
      <a name="h.qj6vyhwjur9c"></a><span>GPS Module</span>
    </h4>
  </li>
</ol>

<ol class="c21" start="1">
  <li class="c5 c15 c18">
    <span>Location tracking and targeting</span>
  </li>
  <li class="c5 c15 c18">
    <span>Speed</span><sup><a href="#cmnt3" name="cmnt_ref3">[c]</a></sup>
  </li>
</ol>

<ol class="c11" start="4">
  <li class="c1">
    <h4>
      <a name="h.3fg3rnkpfdsz"></a><span>Camera</span>
    </h4>
  </li>
</ol>

<ol class="c21" start="1">
  <li class="c5 c15 c18">
    <span>Record flight</span>
  </li>
  <li class="c5 c15 c18">
    <span>Possible usage for collision detection</span>
  </li>
</ol>

<ol class="c11" start="5">
  <li class="c1">
    <h4>
      <a name="h.tbt3jngt2rw8"></a><span>Proximity sensor</span>
    </h4>
  </li>
</ol>

<ol class="c21" start="1">
  <li class="c5 c15 c18">
    <span>Long Range: Prevent crashing into objects in front</span>
  </li>
  <li class="c5 c15 c18">
    <span>Short range: Prevent crash landing</span>
  </li>
</ol>

<ol class="c11" start="6">
  <li class="c1">
    <h4>
      <a name="h.avwn0tugx5kh"></a><span>P2P Wireless</span>
    </h4>
  </li>
</ol>

<ol class="c21" start="1">
  <li class="c5 c15 c18">
    <span>Receive update commands</span>
  </li>
  <li class="c5 c15 c18">
    <span>Report failures, warning and completions</span>
  </li>
</ol>

<ol class="c14" start="2">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.9gmpii330wq6"></a><span>Trim excess wires and remove unwanted weight</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="7">
  <li class="c1">
    <span>Lighter the better</span>
  </li>
  <li class="c1">
    <span>Longer flights</span>
  </li>
</ol>

<ol class="c14" start="3">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.9zg4ji13cijl"></a><span>Add the devices to the plane</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>Try </span><span>to keep the centre of gravity throughout the plane</span><span> set to the Aerodynamic center. (26% according to an anonymous commenter)</span>
  </li>
</ol>

<ol class="c14" start="4">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.ozbrm79f9e4b"></a><span>Get each sensor into our program we can read and control</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>Nothing has to done with the data. It just has to be able to updated regularly</span>
  </li>
</ol>

<ol class="c14" start="5">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.j4f8ttchgn"></a><span>Write the information to file</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>Each sensor will have its own file</span>
  </li>
  <li class="c1">
    <span>Dates and times will also included in the name</span>
  </li>
  <li class="c1">
    <span>Example file /logs/autoplane/2012-03-13.GPS.log</span>
  </li>
</ol>

<ol class="c14" start="6">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.l1lbslsvuqz0"></a><span>Check the information for bugs</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>If any errors go back to step 4</span>
  </li>
</ol>

<h2 class="c5">
  <a name="h.en8v2hb01i6y"></a><span>Goal 3 - Processing Data</span>
</h2>

<p class="c5">
  <span>This goal will get the data from Goal 2 and create useful information from it using our software.</span>
</p>

<ol class="c14" start="1">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.f95ythckimfa"></a><span>Gyroscope</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>Using the Gyroscope information we need to figure out how much we have to alter the aileron to reach our target rotation.</span>
  </li>
  <li class="c1">
    <span>For this goal the target rotation will always be level and should be able to keep the plane flying in a straight line.</span><sup><a href="#cmnt4" name="cmnt_ref4">[d]</a></sup>
  </li>
  <li class="c1">
    <span>This should be tested by rolling the plane on whilst still on the ground. Results should be visible</span>
  </li>
</ol>

<ol class="c14" start="2">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.ejdy36994bns"></a><span>GPS Module</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>For this goal we should be able to tell it a way point and the program should be able to work out the distance, and rotation need to fly to the point.</span>
  </li>
  <li class="c1">
    <span>This should be tested by taking the plane to different places and keeping the waypoint the same.</span>
  </li>
  <li class="c1">
    <span>Another test will be keeping the plane in the same spot and telling it different waypoints.</span>
  </li>
</ol>

<ol class="c14" start="3">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.4mjncf41rjs8"></a><span>Proximity sensor</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>To prevent a crash landing the proximity sensor should fire a warning when the ground is less than LandingDistance away.</span>
  </li>
  <li class="c1">
    <span>To test this the plane should be picked up avoiding the sensor and moved slowly to the floor. This test should be repeated on different materials and grounds. Including; Wood, Concrete, grass and soil.</span>
  </li>
</ol>

<ol class="c14" start="4">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.mkijwzvxcqr3"></a><span>Camera</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>The camera should be set on a timer and be able to take key snapshots every X seconds.</span>
  </li>
  <li class="c1">
    <span>If the picture is 90% or more black it should fire off a warning.</span>
  </li>
  <li class="c1">
    <span>Test should be completed by slowly moving black paper in front of the camera 5 cm away from the lens.</span>
  </li>
</ol>

<ol class="c14" start="5">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.d71qowqvz1wp"></a><span>P2P</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>The plane should be able to receive commands from a command center.</span>
  </li>
  <li class="c1">
    <span>Commands should include;</span>
  </li>
</ol>

<ol class="c21" start="1">
  <li class="c5 c15 c18">
    <span>Kill Switch</span>
  </li>
  <li class="c5 c15 c18">
    <span>Remote control</span>
  </li>
  <li class="c5 c15 c18">
    <span>Update waypoints</span>
  </li>
  <li class="c5 c15 c18">
    <span>Power-off</span>
  </li>
  <li class="c5 c15 c18">
    <span>Poll</span>
  </li>
</ol>

<ol class="c11" start="2">
  <li class="c1">
    <span>Commands should be set with a checksum to prevent against any attack</span>
  </li>
</ol>

<ol class="c14" start="7">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.7a2izo8cv9pd"></a><span>RPI</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>All programs and tests above should all run at the same time. If the CPU reaches anything above 80%, optimization must be done before the next Goal starts.</span>
  </li>
  <li class="c1">
    <span>The RPI must be fully protected from all possible damage, including;</span>
  </li>
</ol>

<ol class="c21" start="1">
  <li class="c5 c15 c18">
    <span>Water</span>
  </li>
  <li class="c5 c15 c18">
    <span>Light</span>
  </li>
  <li class="c5 c15 c18">
    <span>Shock</span>
  </li>
  <li class="c5 c15 c18">
    <span>Temperature</span>
  </li>
  <li class="c5 c15 c18">
    <span>Power surge</span>
  </li>
</ol>

<h2 class="c5">
  <a name="h.5hodcr5awir0"></a><span> Goal 4 - The First Flight</span>
</h2>

<p class="c5">
  <span> This is the part where the plane gets to have its first semi-autonomous flight from point to point.</span>
</p>

<ol class="c14" start="1">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.20ahgfikkvgc"></a><span>Take off</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>First we have to get the plane up in the air</span>
  </li>
</ol>

<ol class="c14" start="2">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.wz8btecybjfj"></a><span>Take over</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>This is where the RPI gets control over the plane</span>
  </li>
  <li class="c1">
    <span>This has to be done in a clear, windless day over open land.</span>
  </li>
  <li class="c1">
    <span>The kill switch and takeover commands must be ready in-case of an error</span>
  </li>
</ol>

<ol class="c14" start="3">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.pmoyawyjdlyx"></a><span>Flight</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>The plane should be able to fly itself to the landing point which should be a straight line.</span>
  </li>
</ol>

<ol class="c14" start="4">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.6yj7q5wf9faz"></a><span>Landing</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>The plane should be take back over control by the command center.</span>
  </li>
  <li class="c1">
    <span>The command center should land the plane.</span>
  </li>
</ol>

<ol class="c14" start="5">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.2sm5szap9g0g"></a><span>Landed</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>Everything should be written to file and the kill command should be sent.</span>
  </li>
  <li class="c1">
    <span>Pictures should be take for anything that is possible broken</span>
  </li>
</ol>

<ol class="c14" start="6">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.ap6l95rhr3m1"></a><span>Finish</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>Everything should be checked and all the files should be looked at for any possible fault. If there is any fault it should be fixed. When fixed the test should run again until no bugs or faults are spotted.</span>
  </li>
  <li class="c1">
    <span>Also if weight balance needs to be changed it should be moved to the nose of the plane to increase handling which may slow down the plane a little, but this isn’t a bad thing.</span><sup><a href="#cmnt5" name="cmnt_ref5">[e]</a></sup>
  </li>
</ol>

<h2 class="c5">
  <a name="h.addcxgxaa0n9"></a><span>Goal 5 - The Second Flight</span>
</h2>

<p class="c5">
  <span>This is where the plane learns to take off, land and turn.</span>
</p>

<ol class="c14" start="1">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.1corvlq3jur8"></a><span>Teaching to take off</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>In Goal 3, Stage 1 we set the target to level. Extra lines should be added to support climbing and descending.</span>
  </li>
</ol>

<ol class="c21" start="1">
  <li class="c5 c15 c18">
    <span>The target rotation should never be allowed to increase unless speed is great then MinSpeed.</span><sup><a href="#cmnt6" name="cmnt_ref6">[f]</a></sup>
  </li>
  <li class="c5 c15 c18">
    <span>Equally the plane should never be allowed to land if speed is more then MaxSpeed. Unless battery flight time is less than 10%</span>
  </li>
</ol>

<ol class="c11" start="2">
  <li class="c1">
    <span>When the plane receives its first way point it’s allowed to start the propeller.</span>
  </li>
</ol>

<ol class="c14" start="2">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.3enpivqmi537"></a><span>Teaching to land</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>The plane should automatically get ready land when it’s heading towards its last way point.</span>
  </li>
  <li class="c1">
    <span>The plane should decrease its speed to MinSpeed + MinSpeed / 3</span>
  </li>
  <li class="c1">
    <span>When the proximity sensor reaches LandingDistance meters speed should drop to MinSpeed</span>
  </li>
  <li class="c1">
    <span>When proximity sensor reaches less than ~1/2 wingspan; speed should fall to 0 mph and the nose should be pulled upwards.</span><sup><a href="#cmnt7" name="cmnt_ref7">[g]</a></sup>
  </li>
  <li class="c1">
    <span>When speed reaches less than 5 mph power to the propellers should turn off.</span>
  </li>
</ol>

<ol class="c14" start="3">
  <li class="c9 c5 c15">
    <h3>
      <a name="h.73zaawwf4op1"></a><span>Teaching to turn</span>
    </h3>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>In Goal 5, Stage 1a we added more lines to support climbing and descending. This time we add support for rolling.</span>
  </li>
</ol>

<ol class="c21" start="1">
  <li class="c5 c15 c18">
    <span>To calculate roll it should be: target rotation + target rotation / 3</span>
  </li>
  <li class="c5 c15 c18">
    <span>The rotation should not be aggressive. IE Jumping target from 0</span><span class="c10 c20">° to 33° except when recovering from excessive roll. See below.</span><sup><a href="#cmnt8" name="cmnt_ref8">[h]</a></sup>
  </li>
  <li class="c5 c15 c18">
    <span>Roll should never be more then </span><span>MaxRotation</span><span class="c10 c20"> or less than -</span><span>MaxRotation</span><span>. Same applies to pitch.</span>
  </li>
  <li class="c5 c15 c18">
    <span>Roll should never take place when the proximity to the floor is less than 1 metre.</span>
  </li>
</ol>

<h2 class="c5">
  <a name="h.ud23qq5nn1ex"></a><span>Goal 6 - Tweaking/Improving</span>
</h2>

<p class="c5">
  <span>Everything should be in place now. It just needs testing and tweaking.</span>
</p>

<ol class="c14" start="1">
  <li class="c9 c5 c15">
    <span>First we shall go through Goal 4 again just to be on the safe side</span>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>If everything goes well continue otherwise fix whatever is wrong</span>
  </li>
</ol>

<ol class="c14" start="2">
  <li class="c9 c5 c15">
    <span>Now we let the plane take off and land on its own</span>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>As before, get ready to take over in case something goes wrong</span>
  </li>
</ol>

<h2 class="c5">
  <a name="h.ajk26bb56jgj"></a><span>Goal 7 - Downgrading/Improving</span>
</h2>

<p class="c5">
  <span>Now that everything is working on a Model B we need to replace it with the Model A and get everything working again. When the plane is capable of flying on its own again the MaxFlightTime can be increased because there will be less power consummation. This will also make the product more affordable to other who follow in our footsteps.</span>
</p>

<h2 class="c5">
  <a name="h.cqows8ncbvgh"></a><span>Goal 8 - The End</span>
</h2>

<p class="c5">
  <span>When the project is fully completed the source code to all programs should be released to the public under a share-and-share-alike licence. Pictures should also be put up along with any diagrams. The final thing to do would be to inform RPI and the local news.</span>
</p>

<h2 class="c5">
  <a name="h.3l9rikx4zsmj"></a><span>Goal 9 - Going one step further</span>
</h2>

<p class="c5">
  <span>Now that the plane is stable and out in the public we need to do something extra. Using the spare Model B we should build something to add to the plane which has nothing to do with the flight of the plane.</span>
</p>

<h3 class="c5">
  <a name="h.kqnwz7mkofdz"></a><span>Using the RPI</span>
</h3>

<p class="c5">
  <span>To make more use of the data we collect the two RPIs should be put in sync. A program should be created to merge the two KML files created to make it easy to read later on.</span>
</p>

<ol class="c14" start="1">
  <li class="c9 c5 c15">
    <span>Weather logger</span>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span> A USB stick that monitors humidity, temperature and dew point</span>
  </li>
  <li class="c1">
    <span>Link: </span><span class="c0"><a class="c7" href="http://goo.gl/zPhfu">http://goo.gl/zPhfu</a></span>
  </li>
</ol>

<ol class="c14" start="2">
  <li class="c9 c5 c15">
    <span>Time Lapse</span>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>Using an alternative camera you can create a long lapse video.</span>
  </li>
</ol>

<ol class="c14" start="3">
  <li class="c9 c5 c15">
    <span>Heat sensor (Spy Camera)</span>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>Using an infrared camera you could monitor the temperature below</span>
  </li>
</ol>

<h3 class="c5">
  <a name="h.9hddl74aw0yr"></a><span>Without the RPI</span>
</h3>

<ol class="c14" start="1">
  <li class="c9 c5 c15">
    <span>Fly a Flag</span>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>You could fly a flag at the end of the plane for sponsorship, fun or because you can</span>
  </li>
</ol>

<ol class="c14" start="2">
  <li class="c9 c5 c15">
    <span>Transportation</span>
  </li>
</ol>

<ol class="c11" start="1">
  <li class="c1">
    <span>Okay, it’s not big enough to carry a person but if you for your phone, letter or other small item. You could send the plane to collect the objects using the spare space.</span>
  </li>
</ol>

<h1 class="c5">
  <a name="h.am66h2pyitus"></a><span>Technical Jargon</span>
</h1>

<p class="c5">
  <span>Aileron: The </span><span>control panels at the ends of the wings which create a lift differential to Roll the aircraf</span><span>t</span>
</p>

<p class="c5">
  <span>Command Center: Person or Persons’ in charge of the plane</span>
</p>

<p class="c5">
  <span>GPS: Global Positional System</span>
</p>

<p class="c5">
  <span>Gyroscope Sensor: The rotation sensor</span>
</p>

<p class="c5">
  <span>Kill Switch: Turns everything off</span>
</p>

<p class="c5">
  <span>RPI: Raspberry Pi</span>
</p>

<p class="c5">
  <span>P2P: Peer to Peer connection</span>
</p>

<p class="c5">
  <span>Proximity: A sensor which detects objects in the immediate view</span>
</p>

<p class="c5">
  <span>Python: Programming Language</span>
</p>

<p class="c5">
  <span>Waypoints: Geo Locations</span>
</p>

<h1 class="c5">
  <a name="h.kp8aspxn5rmf"></a><span>Files & Programs</span>
</h1>

<h2 class="c5">
  <a name="h.3d8hvu2z4u3h"></a><span>Locations</span>
</h2>

<p class="c5">
  <span>To make things easy for new developers to latch on. Files and programs should be saved in an easy to follow and understand methodology.</span>
</p>

<p class="c8 c5">
  <span></span>
</p>

<p class="c5">
  <span>All folders should have the prefix autoplane except when already in a folder that contains autoplane in its name. Files that control hardware should be under autoplane_build be named the friendly version of the hardware type. For example; autoplane_build/GPS.file-type Old versions of the file should be in a subfolder of the hardware friendly name. For example; autoplane_main/GPS/version_number.file-type</span>
</p>

<h2 class="c5">
  <a name="h.82te431r9qi2"></a><span>File-types</span>
</h2>

<h3 class="c5">
  <a name="h.cn3gxztf58k7"></a><span>.CAP</span>
</h3>

<p class="c5">
  <span>Cap files record wireless networks that are in range. These can be used as to find an access points for command center if the primary method fails.</span>
</p>

<h3 class="c5">
  <a name="h.ryaktse2e6ph"></a><span>.KML</span>
</h3>

<p class="c5">
  <span>This is the primary method of giving way points. It will also the primary output of autoplane-tracking.</span>
</p>

<h3 class="c5">
  <a name="h.pdzooepluzm6"></a><span>.LOG</span>
</h3>

<p class="c5">
  <span>These files host the result of every function our program runs. These can be useful for error correcting or improve code efficiency. They should be stored in /var/logs/autoplane/Date Time.Hardware.log. For example; /var/logs/autoplane/2012-03-13.GPS.log.</span>
</p>

<p class="c8 c5">
  <span></span>
</p>

<p class="c5">
  <span>There are also 3 special logs. These are in the same folder and contain less information but are more important. These files are; warning.log, error.log and fatal.log. They may not always exist if there hasn’t been any errors of that type.</span>
</p>

<h2 class="c5">
  <a name="h.37f61o9l5e2"></a><span>Programs</span>
</h2>

<p class="c5">
  <span>To prevent an all out crash each hardware device should have its own program. For example; to control the ailerons there should be a file called autoplane-ailerons. This allows for much better control over the hardware and also allows for much better error recovery. For example; If the GPS fails and gets hooked which prevents the rest of the program from running, the plane could crash because it wouldn’t be able to inform the command center or revert to another source of information.</span>
</p>

<p class="c8 c5">
  <span></span>
</p>

<p class="c5">
  <span>All the programs listed below have a set job to perform. They all  (except autoplane-manager) also check to see if the autoplane-manager is process is running and if it isn’t the programs will try and start it. An error will also be logged every time one of the programs notice that autoplane-manager has crashed.</span>
</p>

<h3 class="c5">
  <a name="h.9wscb19evvop"></a><span>autoplane-ailerons</span>
</h3>

<p class="c5">
  <span>This program will read from the GPS, Gyroscope and Proximity results and react by changing the ailerons if needed.</span>
</p>

<h3 class="c5">
  <a name="h.kuxuxgh3oxn2"></a><span>autoplane-buggeroff</span>
</h3>

<p class="c5">
  <span>An Easter egg like program that will get the plane to fly in a random direction within one mile of its starting place. It creates a random KML file with random points and gets the plane to use it as if the user gave the instructions. Good for testing.</span>
</p>

<h3 class="c5">
  <a name="h.gogvaph7lc8b"></a><span>autoplane-camera</span>
</h3>

<p class="c5">
  <span>This program will take snap shots as and when requested. It will also fire off warnings and errors if required.</span>
</p>

<h3 class="c5">
  <a name="h.hfyzpcbu1yu8"></a><span>autoplane-errors</span>
</h3>

<p class="c5">
  <span>This program is responsible for handling of all errors. This program main use is to prevent re-writing of code in the other programs. This reduces overheads and lets the programs focus on their main job.</span>
</p>

<h3 class="c5">
  <a name="h.hww816kgt1"></a><span>autoplane-gps</span>
</h3>

<p class="c5">
  <span>This program will poll the GPS every GPSPollRate for a location and fire off warnings and errors if and when required.</span>
</p>

<h3 class="c5">
  <a name="h.901ljn3c4091"></a><span>autoplane-gyroscope</span><sup><a href="#cmnt9" name="cmnt_ref9">[i]</a></sup>
</h3>

<p class="c5">
  <span>This program will poll the gyroscope every GryoPollRate. If there is a magnetic compass on-board the plane will also work the relative results. This program will also fire off warning and errors if results bypass limitations.</span>
</p>

<h3 class="c5">
  <a name="h.wh2u5m255l5f"></a><span>autoplane-manager</span>
</h3>

<p class="c5">
  <span>This program is the kill of all the other programs in this package. It monitors the other programs and checks that they haven’t crashed. It also monitors free space, available RAM and individual statistics for all processes. It listens for commands from the control center and takes action if any commands are sent.</span>
</p>

<h3 class="c5">
  <a name="h.8ol6809yjr6e"></a><span>autoplane-proximity</span>
</h3>

<p class="c5">
  <span>This program will poll the proximity sensor every ProxPollRate and fire off warnings and errors if required.</span>
</p>

<h3 class="c5">
  <a name="h.hh3o6hwou8z8"></a><span>autoplane-tracking</span>
</h3>

<p class="c5">
  <span>This program uses data from all the other programs including autoplane-manager saves the information into a KML file. The KML file can then be used to see what was happening at any given point in the flight, mainly to be used in Google Earth.</span>
</p>

<h1 class="c5">
  <a name="h.2mqw8yqjgj6t"></a><span>Constants</span>
</h1>

<p class="c5">
  <span>A few constants to prevent abnormal flights</span>
</p>

<h2 class="c5">
  <a name="h.z9j9p5ulh572"></a><span>SpeedMin</span>
</h2>

<p class="c5">
  <span>This is used to calculate when to start moving the ailerons during take off. It’s also used to calculate how fast to go when landing.</span>
</p>

<h2 class="c5">
  <a name="h.czhixwoj3lus"></a><span>SpeedMax</span>
</h2>

<p class="c5">
  <span>This is Maximum the plane can fly at. Also used to calculate cruising speed.</span>
</p>

<h2 class="c5">
  <a name="h.s7vcgdd9dtxi"></a><span>RotationMax</span>
</h2>

<p class="c5">
  <span class="c24">Value: 50.</span><span>This is the plus and minus degrees of allowed roll.</span>
</p>

<h2 class="c5">
  <a name="h.id73g9obzvxu"></a><span>RotationIncrementNormal</span>
</h2>

<p class="c5">
  <span class="c24">Value: 2.</span><span> When rolling we slowly increment the degrees by this much. Unless we have go past max rotation</span>
</p>

<h2 class="c5">
  <a name="h.4cpmbj73l3g"></a><span>RotationIncrementMax</span>
</h2>

<p class="c5">
  <span class="c24">Value: 10.</span><span> This is the maximum degrees of difference when rolling.</span>
</p>

<h2 class="c5">
  <a name="h.9jh7huntsbo"></a><span>FlightTimeMax</span>
</h2>

<p class="c5">
  <span class="c24">Value: 3600. </span><span>In seconds this sets the maximum time the plane is allowed in the air. This can be used a double safe for battery limitations.</span>
</p>

<h2 class="c5">
  <a name="h.okd948qrojqv"></a><span>CommandTimeout</span>
</h2>

<p class="c5">
  <span class="c24">Value: 360. </span><span>If we haven’t heard from the command center is this amount of time a warning shall be set off.</span>
</p>

<h2 class="c5">
  <a name="h.b2kqoii1er4j"></a><span>Creator</span>
</h2>

<p class="c5">
  <span class="c24">Value: <Changes>.</span><span> A semi-colon delimited list of names and/or companies.</span>
</p>

<h2 class="c5">
  <a name="h.bhva8icz2hub"></a><span>Version</span>
</h2>

<p class="c5">
  <span class="c24">Value: <Changes>.</span><span> The format is; Major, Minor, Release, Build. Separated by a decimal.</span>
</p>

<h2 class="c5">
  <a name="h.tpw8cx6l5vun"></a><span>ChecksumSalt</span>
</h2>

<p class="c5">
  <span class="c24">Value: <Changes>.</span><span> This is used to prevent hijacking of the plane. It should change with each release. Every minor should contain a big difference and every Major the checksum should be totally random from all previous releases.</span>
</p>

<h2 class="c5">
  <a name="h.48k2ax2e98vo"></a><span>ProxPollRate</span>
</h2>

<p class="c5">
  <span class="c24">Value: 0.3. </span><span>How often in seconds should the device be polled for data. Used to check during landing.</span>
</p>

<h2 class="c5">
  <a name="h.821l8er2ip52"></a><span>GryoPollRate</span>
</h2>

<p class="c5">
  <span class="c24">Value: 0.2. </span><span>How often in seconds should the device be polled for data. Used to keep the plane balanced.</span>
</p>

<h2 class="c5">
  <a name="h.j5thxqsb9rlb"></a><span>GPSPollRate</span>
</h2>

<p class="c5">
  <span class="c24">Value: 5. </span><span>How often in seconds should the device be polled for data. Used for tracking location and direction.</span>
</p>

<h2 class="c5">
  <a name="h.15arfskxznch"></a><span>LandingDistance</span>
</h2>

<p class="c5">
  <span class="c24">Value: 0.5.</span><span> </span><span>When the distance in metres is less than this value the final part of the landing sequence will take effect.</span>
</p>

<h1 class="c5">
  <a name="h.5wuqg4n9mbsj"></a><span>Error Management</span>
</h1>

<p class="c5">
  <span>If something goes a bit awry we need to know. All information should be logged but errors are more important and thus have an extra log and also invoke functions to either, compensate, fix or report the error further. For example if an Fatal error occurs a text message to the user would be nice. Or if the engine fails, deploying a parachute would be a great money saver. The error table has being removed because useful text message based errors with allow quicker debugging and error checking. If you wish to use error code you’ll have to create your own folk.</span>
</p>

<h1 class="c5">
  <a name="h.22muku6bk5e3"></a><span>Parts</span>
</h1>

<p class="c5">
  <span>Cheaper the better, lighter the better and if built in England, the better.</span>
</p>

<a href="#" name="60179cd71357995550971601e32a0ada5a1a7962"></a><a href="#" name="0"></a><table cellpadding="0" cellspacing="0" class="c29">
  <tr>
    <td class="c22">
      <p class="c5">
        <span class="c24">Part</span>
      </p>
    </td>
    
    <td class="c6">
      <p class="c5">
        <span class="c24">Price</span>
      </p>
    </td>
    
    <td class="c2">
      <p class="c5">
        <span class="c24">Status</span>
      </p>
    </td>
    
    <td class="c12">
      <p class="c5">
        <span class="c24">Link/Notes</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td class="c22">
      <p class="c5">
        <span>Plane</span>
      </p>
    </td>
    
    <td class="c6">
      <p class="c4">
        <span>£110</span>
      </p>
    </td>
    
    <td class="c2">
      <p class="c8 c5">
        <span></span>
      </p>
    </td>
    
    <td class="c12">
      <p class="c5">
        <span class="c0"><a class="c7" href="http://www.nitrotek.co.uk/cessna-ep-400-4ch-brushless-electric-rc-plane.html">http://www.nitrotek.co.uk/cessna-ep-400-4ch-brushless-electric-rc-plane.html</a></span>
      </p>
      
      <p class="c5">
        <span class="c0"><a class="c7" href="https://www.youtube.com/watch?v=CW74WlV7lCU">https://www.youtube.com/watch?v=CW74WlV7lCU</a></span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td class="c22">
      <p class="c5">
        <span>RPI</span>
      </p>
    </td>
    
    <td class="c6">
      <p class="c4">
        <span>£22</span>
      </p>
    </td>
    
    <td class="c2">
      <p class="c8 c5">
        <span></span>
      </p>
    </td>
    
    <td class="c12">
      <p class="c5">
        <span class="c0"><a class="c7" href="http://www.raspberrypi.org/">http://www.raspberrypi.org/</a></span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td class="c22">
      <p class="c5">
        <span>GPS</span>
      </p>
    </td>
    
    <td class="c6">
      <p class="c4">
        <span>£25</span>
      </p>
    </td>
    
    <td class="c2">
      <p class="c8 c5">
        <span></span>
      </p>
    </td>
    
    <td class="c12">
      <p class="c5">
        <span class="c0"><a class="c7" href="http://www.expansys.com/globalsat-bu-353-waterproof-usb-gps-receiver-sirf-star-iii-140985/?utm_source=google&utm_medium=shopping&utm_campaign=base&ito=1701">http://www.expansys.com/globalsat-bu-353-waterproof-usb-gps-receiver-sirf-star-iii-140985/</a></span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td class="c22">
      <p class="c5">
        <span>Camera</span>
      </p>
    </td>
    
    <td class="c6">
      <p class="c4">
        <span><a class="c7" href="http://www.expansys.com/globalsat-bu-353-waterproof-usb-gps-receiver-sirf-star-iii-140985/?utm_source=google&utm_medium=shopping&utm_campaign=base&ito=1701">£20</a></span>
      </p>
    </td>
    
    <td class="c2">
      <p class="c8 c5">
        <span></span>
      </p>
    </td>
    
    <td class="c12">
      <p class="c5">
        <span class="c0"><a class="c7" href="http://goo.gl/m8lsC">http://goo.gl/m8lsC</a></span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td class="c22">
      <p class="c5">
        <span>Proximity</span>
      </p>
    </td>
    
    <td class="c6">
      <p class="c4 c8">
        <span></span>
      </p>
    </td>
    
    <td class="c2">
      <p class="c8 c5">
        <span></span>
      </p>
    </td>
    
    <td class="c12">
      <p class="c5">
        <span>Optional</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td class="c22">
      <p class="c5">
        <span>Gyroscope</span>
      </p>
    </td>
    
    <td class="c6">
      <p class="c4">
        <span>£40~</span>
      </p>
    </td>
    
    <td class="c2">
      <p class="c5 c8">
        <span></span>
      </p>
    </td>
    
    <td class="c12">
      <p class="c5">
        <span class="c0"><a class="c7" href="http://compare.ebay.co.uk/like/230728358990?var=lv&ltyp=AllFixedPriceItemTypes&var=sbar">http://compare.ebay.co.uk/like/230728358990?var=lv&ltyp=AllFixedPriceItemTypes&var=</a></span><span class="c0"><a class="c7" href="http://compare.ebay.co.uk/like/230728358990?var=lv&ltyp=AllFixedPriceItemTypes&var=sbar">sbar</a></span><sup><a href="#cmnt10" name="cmnt_ref10">[j]</a></sup>
      </p>
    </td>
  </tr>
  
  <tr>
    <td class="c22">
      <p class="c4">
        <span>Total:</span>
      </p>
    </td>
    
    <td class="c6">
      <p class="c4">
        <span>£217</span>
      </p>
    </td>
    
    <td class="c2">
      <p class="c8 c5">
        <span></span>
      </p>
    </td>
    
    <td class="c12">
      <p class="c8 c5">
        <span></span>
      </p>
    </td>
  </tr>
</table>

<h1 class="c5">
  <a name="h.644tt0b7gn85"></a><span>Credits</span>
</h1>

<p class="c5">
  <span>This project will/would never be completed without certain individuals and companies. Below is a list people I’d like to thank.</span>
</p>

<h2 class="c5">
  <a name="h.hcsli21pplel"></a><span>HappyPaul55</span>
</h2>

<p class="c5">
  <span>C’mon. I’ve got to give myself some credit. I wrote this detailed document for a plan of action, ordered the parts and that’s it so far.</span>
</p>

<h2 class="c5">
  <a name="h.rifis6c8xy7a"></a><span>Raspberry Pi Foundation</span>
</h2>

<p class="c5">
  <span>The wonderful people at the charity company gave me the idea with their cheap £22 boards. The forums were thought provoking which gave me some great ideas for me to add, change and remove parts of the program and hardware.</span>
</p>

<h3 class="c5">
  <a name="h.n6xgadr3r190"></a><span>Linorics</span>
</h3>

<p class="c5">
  <span>P</span><span>rovided WiFi solutions for short range testing. Centralized and amplified router in the center of the testing area or repeaters around the perimeter.</span>
</p>

<h3 class="c5">
  <a name="h.xa9hchx04rbm"></a><span>st599</span>
</h3>

<p class="c5">
  <span class="c10">Brought the </span><span class="c10">Kalman filter and PID controller idea to the board. Also brought up the issue of a complete system crash.</span>
</p>

<h3 class="c5">
  <a name="h.7ywbxrvqiiin"></a><span>flipdewaf</span>
</h3>

<p class="c5">
  <span>Provided great in-depth information on how to use the data provided by the sensors.</span>
</p>

<h3 class="c5">
  <a name="h.z0ykjn5m4pmq"></a><span>Fred Nightingale</span>
</h3>

<p class="c5">
  <span>Created lots of useful comments on this document. Provided quite a few insights as well. Overall helpful information.</span>
</p>

<h2 class="c5">
  <a name="h.rwxqfo5kguee"></a><span>You?</span>
</h2>

<p class="c5">
  <span>Okay, that was cheesy but the message is there. You can help build this program by programming additional features, correcting bugs or by building and testing your own planes and providing feedback. You can contact me by e-mailing </span><span class="c0"><a class="c7" href="mailto:PaulHappyHutchinson@gmail.com">PaulHappyHutchinson@gmail.com</a></span><span>.</span>
</p>

<h1 class="c5">
  <a name="h.ivvufjcxgv3a"></a><span>Questions & Answers</span>
</h1>

<h2 class="c5">
  <a name="h.gqv1f5gv0u7a"></a><span>Why lots of programs?</span>
</h2>

<p class="c5">
  <span>Well, this is a good question that I know has some debate behide it. The reason is to keep as many programs running at once each with their own little task. This way if any coding issue pops up (like a divide by zero), it will only crash that one program and only one piece of hardware will stop working. Furthermore the other programs can notice a crash and try and restore or compensate.</span>
</p>

<h2 class="c5">
  <a name="h.hlgsafccuc2t"></a><span>What happens if there was a full system crash?</span>
</h2>

<p class="c5">
  <span>Good question, I forgot to think about this, so, this solution is an addition. I haven’t got a fully prove creation but I was thinking about using some form of timer that will get reset by the programs every time it completes a hardware request. When the timer reaches zero a parachute will set off and all hardware power will be forced turned of by breaking a switch.</span>
</p>

<p class="c8 c5">
  <span></span>
</p>

<p class="c5">
  <span>An additional solution is to use a relay switch which will switch between RPI controls and standard radio controls.</span>
</p>

<h2 class="c5">
  <a name="h.7aevzhsmx2e8"></a><span>It’s not legal!</span>
</h2>

<p class="c5">
  <span>First off, calm down dear. Secondly, please say in a question form. Thirdly, No! It’s not illegal as long as I keep my beady eyes on it and have a backup solution if it starts playing up. I’m in the UK, so if you’re doing a similar project please check your with your local authorities.</span>
</p>

<h2 class="c5">
  <a name="h.p3a312dedsi7"></a><span>Is it a Fly-over-wire (Fly-by-wire) based?</span>
</h2>

<p class="c5">
  <span>No, the command center subsection is to create extra features like live stream, live log, updatible way points and so on. The KML files should be placed onto SD card which will be automatically loaded upon start up. After the power on the plane will take off and reach its way point targets. No contact with the command center is required but for safety and curiosity I’ll like to keep to in touch.</span>
</p>

<h2 class="c5">
  <a name="h.s6rzn0beh1l3"></a><span>Is the Gyroscope capable of keeping the plane level?</span>
</h2>

<p class="c5">
  <span>To my knowledge, yes. But with clever boffins who read this, they seem to disagree. This is really an answer but more “it's what I know” sort of thing. I thought the difference between a Gyroscope and an Accelerometer was that the Accelerometer provided information relative to the plane. IE the plane is now rolling left... And the Gyroscope was relative to gravity. IE the plane is upside down and rolling right. I’d love to hear some comments.</span>
</p>

<h2 class="c5">
  <a name="h.xgjljrulea2r"></a><span>Now it’s my turn, What programming language do you think would be best for this project and why?</span>
</h2>

<p class="c5">
  <span class="c28">Make comments by selecting some text, clicking Insert in the top menu and selecting Comment. Best answers with real meaning will be place here.</span><span> Most development will be programmed in C++. Please note that if you create a project using your IDE, set your environment to ARM and get an emulator.</span>
</p>

<h1 class="c5">
  <a name="h.yv3zg4940xov"></a><span>Development & Programming</span>
</h1>

<p class="c5">
  <span>Okay, so now that most the grounds are set we (or I) need to start the development of the software. The programs should be Lightweight, efficient and to the point.</span>
</p>

<h2 class="c5">
  <a name="h.8udt3osvs8r1"></a><span>Call for developers</span>
</h2>

<p class="c5">
  <span>I love to program, I’ll admit it. This project is quite large and for it to ever reach completion I’d like to share it with the world. I could just put it on GIT or Google SVN and I will, but I’ll also like to have some great people </span><span class="c25">right</span><span> by my side, the core team if you like. I’d like to say I’ll pay you but to keep costs down, I won’t. ;) I will however buy you a drink at the pub after a test flight if you like.</span>
</p>

<h2 class="c5">
  <a name="h.mcksglptud23"></a><span>Functions that need to be created</span>
</h2>

<p class="c5">
  <span>I don’t hold the key to the wonderful world or Maths or Aerodynamics so I’ll list a few functions which are yet to be created which I may struggle with. I think most information is on this page </span><span class="c0"><a class="c7" href="http://www.movable-type.co.uk/scripts/latlong.html">http://www.movable-type.co.uk/scripts/latlong.html</a></span><span>. </span><span class="c25">Update: In fact all functions on that page would be useful.</span>
</p>

<h3 class="c5">
  <a name="h.523ln1yokzj5"></a><span>getSpeedFromPoints</span>
</h3>

<p class="c5">
  <span class="c28">Two points</span><span> An array of points contain lat, long, alt will be passed to calculate an average. Return should be a float or false on error</span><span>.</span><span> </span>
</p>

<h3 class="c5">
  <a name="h.lzhb8j315qp7"></a><span>getBearingFromPoints</span>
</h3>

<p class="c5">
  <span>Using the same two points as getSpeedFromPoints, the function should return bearing from north. If heading east it’ll be 90. Return should be a float.</span>
</p>

<div>
  <p class="c4 c8 c19">
    <span></span>
  </p>
</div>

<div class="c17">
  <p class="c3">
    <a href="#cmnt_ref1" name="cmnt1">[a]</a><span>Paul Hutchinson:</span>
  </p>
  
  <p class="c3">
    <span>If you'd like to be more involved with the process email me at PaulHappyHutchinson@gmail.com and if your knowledge and skills are as good as you say, I'll buy you a pint and give you full access to editing the doc. How does that sound?</span>
  </p>
</div>

<div class="c17">
  <p class="c3">
    <a href="#cmnt_ref2" name="cmnt2">[b]</a><span>Anonymous:</span>
  </p>
  
  <p class="c3">
    <span>The Aircraft should not behave any differently in constant wind conditions (it shouldn't know to fly fowards)</span>
  </p>
  
  <hr />
  
  <p class="c3">
    <span>Paul Hutchinson:</span>
  </p>
  
  <p class="c3">
    <span>Not too sure yet. If it comes down to land whilst windy, I might need to add an offset to the program to prevent landing next door. ;)</span>
  </p>
</div>

<div class="c17">
  <p class="c3">
    <a href="#cmnt_ref3" name="cmnt3">[c]</a><span>Anonymous:</span>
  </p>
  
  <p class="c3">
    <span>The GPS speed should only be used for NAV programs.</span>
  </p>
  
  <hr />
  
  <p class="c3">
    <span>Paul Hutchinson:</span>
  </p>
  
  <p class="c3">
    <span>It's the only measurement device I have to use if I wish to keep within the GPIO limits. The speed is only for apx's anyway so shouldn't be a problem. I think :)</span>
  </p>
</div>

<div class="c17">
  <p class="c3">
    <a href="#cmnt_ref4" name="cmnt4">[d]</a><span>Fred Nightingale:</span>
  </p>
  
  <p class="c3">
    <span>The gyroscope should not be used for staight and level flight. The pitch angle has little to do with wheather it is going up or down, the control for level flight should be something that maintains constant altitude, i.e. pressure sensor.</span>
  </p>
</div>

<div class="c17">
  <p class="c3">
    <a href="#cmnt_ref5" name="cmnt5">[e]</a><span>Fred Nightingale:</span>
  </p>
  
  <p class="c3">
    <span>Moving the weight further from the CoG is normally a bad thing but in this case it will make the controls less sensitive.</span>
  </p>
  
  <hr />
  
  <p class="c3">
    <span>Paul Hutchinson:</span>
  </p>
  
  <p class="c3">
    <span>Out of curiosity, would putting the weight make it really responsive?</span>
  </p>
  
  <hr />
  
  <p class="c3">
    <span>Fred Nightingale:</span>
  </p>
  
  <p class="c3">
    <span>Putting the weight...?</span>
  </p>
  
  <hr />
  
  <p class="c3">
    <span>Paul Hutchinson:</span>
  </p>
  
  <p class="c3">
    <span>Sorry, eating and typing again. Putting the weight... at the rear of the plane.</span>
  </p>
  
  <hr />
  
  <p class="c3">
    <span>Anonymous:</span>
  </p>
  
  <p class="c3">
    <span>There is 2 things going on here, stability and moment of inertia.</span>
  </p>
  
  <p class="c3">
    <span>1.Stability.</span>
  </p>
  
  <p class="c3">
    <span>-It helps to imagine a dart when looking at stability, it has all the air working at the back where the flights are and all the weight forward, this is a stable situation. For an aircraft to be "statically stable" the Centre of Gravity needs to be in front of the centre of lift. The next question is "what does that mean?" . </span>
  </p>
  
  <p class="c3">
    <span>Centre of gravity:- The integral of weight*distance with respect to length all divided by the total weight. It is the point where the aircraft pivots around. The centre of lift is the same but with lift. It is where the aerodynamic forces act on the aircraft when in steady flight. If the CoG is in front of the centre of lift the aircraft is statically stable and  if the CoG is behind the centre of lift then it is statically unstable.</span>
  </p>
  
  <p class="c3 c8">
    <span></span>
  </p>
  
  <p class="c3">
    <span>2. Moment of Inertia.</span>
  </p>
  
  <p class="c3">
    <span>-This is worked out a bit like the CoG but with this the further the distance any weight is from the CoG the inertia goes up with the distance squared. It is the Mass component in the rotational version of newtons famous F=Ma. If the Inertia goes up it takes more torque (force*Length) to get the same rotational acceleration, this would normally be regarded as a bad thing as it would make the aircraft seem sluggish but could be a benefit here.</span>
  </p>
  
  <p class="c3 c8">
    <span></span>
  </p>
  
  <p class="c3">
    <span>There is plenty enough power in the Pi (or arduino which may be better here) to control a statically unstable aircraft but you wont be able to if you take control.</span>
  </p>
</div>

<div class="c17">
  <p class="c3">
    <a href="#cmnt_ref6" name="cmnt6">[f]</a><span>Fred Nightingale:</span>
  </p>
  
  <p class="c3">
    <span>The easiest option here is to set the controls in a takeoff configuration effectively trimmed for a given speed. It will leave the ground prior to this speed and remain in ground effect whilst it builds extra speed it will the climb at its trimmed speed (sort of). At a given height (lets say 10ft) hand the controls over to the "autopilot".</span>
  </p>
</div>

<div class="c17">
  <p class="c3">
    <a href="#cmnt_ref7" name="cmnt7">[g]</a><span>Fred Nightingale:</span>
  </p>
  
  <p class="c3">
    <span>The flare is often misconstrued as pulling the nose upward, I think the best way to achieve this is using a ground proximity sensor to keep the aircraft ~1/2 span above the ground whilst cutting power, the nose will rise as it slows and gently stall onto the ground.</span>
  </p>
</div>

<div class="c17">
  <p class="c3">
    <a href="#cmnt_ref8" name="cmnt8">[h]</a><span>Fred Nightingale:</span>
  </p>
  
  <p class="c3">
    <span>You should be able to just slam it straight to the target with the PID set up properly.</span>
  </p>
  
  <hr />
  
  <p class="c3">
    <span>Paul Hutchinson:</span>
  </p>
  
  <p class="c3">
    <span>I'm aiming for a smooth rotation. Hopefully with a slowly but surely approach the environment will not affect the flight at all. I'm wary to just slap it to the target if the weather is bad, IE raining and very windy. If you disagree I'll drop this line.</span>
  </p>
</div>

<div class="c17">
  <p class="c3">
    <a href="#cmnt_ref9" name="cmnt9">[i]</a><span>Anonymous:</span>
  </p>
  
  <p class="c3">
    <span>Try to only use magnetic compass to try and find an approximation of the correct flying direction, if you try to fly directly towards a waypoint using your compass you will spiral towards it due to wind.</span>
  </p>
  
  <hr />
  
  <p class="c3">
    <span>Paul Hutchinson:</span>
  </p>
  
  <p class="c3">
    <span>I don't want to include more hardware because of input limitations. I belieave using 3; Lat, Long & Alt, values from the GPS would be enough to calculate north.</span>
  </p>
</div>

<div class="c17">
  <p class="c3">
    <a href="#cmnt_ref10" name="cmnt10">[j]</a><span>Fred Nightingale:</span>
  </p>
  
  <p class="c3">
    <span>You'll need air pressure sensors to control altitude as GPS isn't really accurate enough for this and accellerometers in there too to correct gyros as was said in the forum.</span>
  </p>
  
  <hr />
  
  <p class="c3">
    <span>Paul Hutchinson:</span>
  </p>
  
  <p class="c3">
    <span>Why isn't GPS enough? If it can  be accurate with 50cm why would increasing it help?</span>
  </p>
  
  <p class="c3 c8">
    <span></span>
  </p>
  
  <p class="c3 c8">
    <span></span>
  </p>
  
  <p class="c3">
    <span>Thanks</span>
  </p>
  
  <hr />
  
  <p class="c3">
    <span>Eric Middleton:</span>
  </p>
  
  <p class="c3">
    <span>I have a cell phone with A-GPS and a watch with regular GPS, and they usually have an accuracy of between 3-9 meters with clear sky. I've also read that GPS is much less accurate vertically than laterally, so those errors would be much too big to fly an airplane. I am in the US though, so maybe GPS is more accurate abroad?</span>
  </p>
</div>
